apiVersion: v1
kind: Pod
metadata:
  name: training
spec:
  containers:
    - name: mlflow-container
      image: ghcr.io/intertwin-eu/t6.5-ai-and-ml:containers
      command: ["mlflow"]
      args: ["server", "--backend-store-uri", "/home/T6.5-AI-and-ML/use-cases/mnist/data/ml-logs/"]
      # volumeMounts:
      #   - name: shared-volume
      #     mountPath: /home/T6.5-AI-and-ML
    - name: itwinai-container
      image: ghcr.io/intertwin-eu/t6.5-ai-and-ml:containers
      command: ["sleep", "100000"]
      #args: ["/eos"]
      volumeMounts:
        - name: eos
          mountPath: /eos
          mountPropagation: HostToContainer

  volumes:
    - name: eos
      # Note the particularity of the host path being /var/eos, not /eos.
      # The path inside the container will be /eos with this sample setup.
      hostPath:
        path: /var/eos
  securityContext:
    seLinuxOptions:
      type: "spc_t"
