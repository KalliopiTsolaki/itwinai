# Configuration file of AI workflows for MNIST use case

# When executing this use case in a new environment, you need
# to update the following fields:
# - inference.run_id

# Pytorch lightning config
train:
  type: lightning
  # Follows lightning config file format:
  # https://pytorch-lightning.readthedocs.io/en/1.6.5/common/lightning_cli.html#multiple-models-and-or-datasets
  path: ./use-cases/mnist/pl-training.yml

inference:
  type: lightning
  # MLFlow tracking URI
  tracking_uri: file:./data/mnist/ml-logs
  # Run ID in MLFlow server: pre-trained model
  # IMPORTANT: this has to be updated!
  run_id: c239a06d49c440af9e68fa6b5e5ceba1
  ckpt_path: model/checkpoints/best-checkpoint/best-checkpoint.ckpt
  train_config_artifact_path: pl-training.yml 

# Mlflow
logger:
  experiment_name: MNIST classification lite
  description: A MLP classifier for MNIST dataset.
  log_every_n_epoch: 1
  log_every_n_steps: 1
  # Name used in Models Registry. If given, it is automatically
  # registered in the Models Registry.
  registered_model_name: MNIST-clf-lite
